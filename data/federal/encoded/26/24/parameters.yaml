# Parameters for 26 USC § 24 (Child Tax Credit)
#
# Inflation-indexed values published annually in IRS Revenue Procedures.
# Base amounts from statute; annual values from guidance.

citation: "26 USC § 24"

parameters:
  # Credit amount per qualifying child
  # § 24(h)(2): $2,000 for 2018-2025
  credit_per_child:
    description: "Credit amount per qualifying child under 17"
    unit: currency-USD
    values:
      2018-01-01: 2000
      2019-01-01: 2000
      2020-01-01: 2000
      2021-01-01: 2000  # ARPA temporarily increased, but reverted
      2022-01-01: 2000
      2023-01-01: 2000
      2024-01-01: 2000
      2025-01-01: 2000
      # Post-TCJA sunset (2026+): reverts to $1,000
      2026-01-01: 1000
    citations:
      - "§ 24(h)(2): $2,000 for tax years 2018-2025"
      - "§ 24(a): $1,000 base (pre-TCJA and post-sunset)"

  # Refundable portion maximum (Additional Child Tax Credit)
  # § 24(h)(5): limited to $1,400 for 2018-2025, indexed after 2018
  refundable_maximum:
    description: "Maximum refundable amount per child (ACTC)"
    unit: currency-USD
    indexing:
      method: cpi-u
      base_year: 2018
      round_to: 100
    values:
      2018-01-01: 1400
      2019-01-01: 1400
      2020-01-01: 1400
      2021-01-01: 1400
      2022-01-01: 1500
      2023-01-01: 1600
      2024-01-01: 1700
      2025-01-01: 1700  # projected
    citations:
      - "§ 24(h)(5): $1,400 indexed for inflation"
      - "Rev. Proc. 2023-34: $1,700 for 2024"

  # Phaseout threshold - single/other filers
  # § 24(b)(1)(B): $200,000
  phaseout_threshold_single:
    description: "AGI threshold where phaseout begins (non-joint)"
    unit: currency-USD
    values:
      2018-01-01: 200000
      # Not indexed - fixed through 2025
    citations:
      - "§ 24(b)(1)(B): $200,000 for other than joint"

  # Phaseout threshold - joint filers
  # § 24(b)(1)(A): $400,000
  phaseout_threshold_joint:
    description: "AGI threshold where phaseout begins (joint)"
    unit: currency-USD
    values:
      2018-01-01: 400000
      # Not indexed - fixed through 2025
    citations:
      - "§ 24(b)(1)(A): $400,000 for joint returns"

  # Phaseout rate
  # § 24(b)(2): $50 per $1,000 (or fraction thereof)
  phaseout_rate:
    description: "Credit reduction per $1,000 over threshold"
    unit: currency-USD
    values:
      1998-01-01: 50  # unchanged since inception
    citations:
      - "§ 24(b)(2): $50 for each $1,000"

  # Earned income threshold for refundable credit
  # § 24(d)(1)(B)(i): $2,500 for 2018+
  earned_income_threshold:
    description: "Earned income floor for refundable credit"
    unit: currency-USD
    values:
      2018-01-01: 2500
      # Not indexed
    citations:
      - "§ 24(d)(1)(B)(i): earned income in excess of $2,500"

  # Refundable credit rate
  # § 24(d)(1)(B)(i): 15%
  refundable_rate:
    description: "Percentage of earned income above threshold"
    unit: rate
    values:
      2018-01-01: 0.15
    citations:
      - "§ 24(d)(1)(B)(i): 15 percent"

  # Qualifying child age limit
  # § 24(c)(1): under 17
  qualifying_age_limit:
    description: "Maximum age for qualifying child (exclusive)"
    unit: years
    values:
      1998-01-01: 17
    citations:
      - "§ 24(c)(1): has not attained age 17"

# Guidance sources for annual values
guidance_sources:
  - path: us/guidance/irs/rp-23-34
    applies_to_year: 2024
    description: "Rev. Proc. 2023-34 - TY 2024 inflation adjustments"
  - path: us/guidance/irs/rp-22-38
    applies_to_year: 2023
    description: "Rev. Proc. 2022-38 - TY 2023 inflation adjustments"
